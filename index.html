<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BookingSuite RateManager Specifications</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    
    <link href="images/favicon.ico" rel="icon" type="image/ico" />

    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700" rel="stylesheet">

<!-- Start of bks-connectivity Zendesk Widget script -->
<script>/*<![CDATA[*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(e){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","bks-connectivity.zendesk.com");
/*]]>*/</script>
<!-- End of bks-connectivity Zendesk Widget script -->

  </head>

  <body class="index" data-languages="[&quot;xml--create&quot;,&quot;xml--modify&quot;,&quot;xml--cancel&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logodark.png" alt="Logodark" />
        <div class="lang-selector">
              <a href="#" data-language-name="xml--create">Create</a>
              <a href="#" data-language-name="xml--modify">Modify</a>
              <a href="#" data-language-name="xml--cancel">Cancel</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p><img src="images/ratemanager.png" alt="ratemanager" /></p>

<p>The following specification will explain how to connect your software with RateManager, a product of BookingSuite.</p>

<p>RateManager combines user-friendly design and accessible rate recommendations to help hotels of all shapes and sizes improve revenue performance and strengthen their overall business. We recommend watching <a href="https://bookingsuite.wistia.com/medias/21rkh2ubmy" target="_blank">this video</a> to learn more about the services that Ratemanager provides.</p>

          <h2 id="conventions">Conventions</h2>

<h3 id="1-way-2-way">1-way, 2-way</h3>

<p>We define connectivity as 1-way or 2-way.</p>

<p>1-way refers solely to data transfer from your PMS to RateManager. This means that we will only be able to receive data from your system.</p>

<p>2-way refers to data transfer from your PMS to RateManager, and RateManager rate updates back to your PMS.</p>

<p><img src="images/interface_ways.PNG" alt="diagram" /></p>

<h3 id="reservation-data">Reservation data</h3>

<p>Reservation data refers to all the data linked to a booking, any or all of which can impact the occupancy of a property. To make sure RateManager has everything it needs, please provide all information regarding sold rooms, as well as out-of-order/out-of-inventory rooms. Please do not send dummy rooms, nor any guest or property personal data, as these are not used by RateManager.</p>

<p>The most basic functions of our RateManager product are dependent on computing the right occupancy and revenue, which is based on the data you provide us with. We need at least the following information per booking:</p>

<ul>
<li>a unique reservation ID to identify the booking, and update it if needed</li>
<li>a check-in and check-out date</li>
<li>a booking date</li>
<li>a status indicator, at least for cancellations, that has an impact on the final occupancy</li>
<li>an average rate. We recommend providing the exact rate per night, to avoid discrepancies between your reports and the ones we provide</li>
</ul>

<p>However, in addition to this core data, RateManager can also analyze additional segmentation data to provide more nuanced recommendations. By providing all information requested in this specification, we can provide the maximum benefits of RateManager to our mutual customers. </p>

<h2 id="property-set-up-process">Property set-up process</h2>

<p>Once the interface has been completed between RateManager and your PMS, we will be using a standardized process to set-up RateManager for new properties.</p>

<p>It is important to understand that we use a property’s historical data to train our algorithm for that specific property. To this end, for each property set-up, a complete history of 2 years will be requested from you. This historical data will only be requested once, at the beginning of set-up. Afterwards, we will only need to update new data as it comes in.</p>

<h3 id="property-setup">Property setup:</h3>

<ol>
<li>Make the necessary configurations, depending of the methods and conventions used (hotel code mapping, FTP access, username and password set-up)</li>
<li>PMS sends all reservations with check-out date &lt;= Today (2 years of history is required)</li>
<li>PMS sends all reservations with check-out date &gt; Today (current and future data)</li>
<li>PMS sends inventory for all room types, 365 days into the future (including Today)</li>
<li>PMS activates live updates for new changes to reservations and inventory</li>
</ol>

<aside class="notice">This process can be done manually or be automated.</aside>

          <h2 id="development-process">Development Process</h2>

<h3 id="roadmap">Roadmap</h3>

<p>We usually develop with PMS partners by following this roadmap:</p>

<ol>
<li>Scoping call after reading this documentation to confirm the process, answer any questions, and set development expectations</li>
<li>Development of inventory message (HotelInvCountNotifRQ)</li>
<li>Development of reservation message (HotelResNotifRQ) and group block messages (HotelInvBlockNotifRQ, optional)</li>
<li>Development of the rate update</li>
<li>Certification of the connection</li>
<li>Testing with live data from pilot property</li>
<li>Pilot testing with property</li>
<li>Defining procedures for new property set-up</li>
</ol>

<h3 id="certification-process">Certification process</h3>

<p>Once development of both the 1-way and 2-way connections are complete, we will perform certification testing. This will check basic scenarios to see if messages are being sent correctly, and if the resulting data is valid for our system.</p>

<p>We will test the following scenarios:</p>

<ul>
<li>Create, modify, and cancel a single reservation </li>
<li>Create, modify, and cancel a group reservation</li>
<li>Create, modify, and cancel a group block (optional)</li>
<li>Push a single rate, and verify that the rate in the PMS is updated</li>
<li>Push multiple rates, and verify that all selected rates in the PMS are updated</li>
</ul>

          <h2 id="testing-with-postman">Testing with Postman</h2>

<p>The BookingSuite RateManager API collection can be easily imported into Postman, by clicking the button below:</p>

<div class="postman-run-button"
style="margin-left: 2em;"
data-postman-action="collection/import"
data-postman-var-1="0c755fbb52ccef5c8548"></div>

<script type="text/javascript">
  (function (p,o,s,t,m,a,n) {
    !p[s] && (p[s] = function () { (p[t] || (p[t] = [])).push(arguments); });
    !o.getElementById(s+t) && o.getElementsByTagName("head")[0].appendChild((
      (n = o.createElement("script")),
      (n.id = s+t), (n.async = 1), (n.src = m), n
    ));
  }(window, document, "_pm", "PostmanRunObject", "https://run.pstmn.io/button.js"));
</script>

<p>Postman is a free application that allows you to execute test calls in an intuitive interface. When making test calls, you should use the sandbox environment. If you were not provided a sandbox, please request it at bookingsuite.connectivity@booking.com or via the help button.</p>

          <h1 id="web-service">Web Service</h1>

          <h2 id="getting-started">Getting Started</h2>

<h3 id="overview">Overview</h3>

<blockquote>
<p>API endpoint</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.pricematch.travel/htng_message
</code></pre>
<p>Our specification is based on the <a href="https://s3-eu-west-1.amazonaws.com/static-assets-20120401/HTNG/Technical+specification+documents.zip">HTNG 2013B</a> specification, as created by the <a href="http://www.htng.org/" target="_blank">Hotel Technology Next Generation Association</a>. All relevant code and details that we use will be explained in the following sections for your convenience. Refer to the HTNG 2013B specification at your own discretion and necessity.</p>

<p>The XML messages that will be sent and received are to be written in SOAP Message structure. We support both SOAP 1.1 and 1.2 versions. Specifically, these messages are:</p>

<p>From PMS to BookingSuite RateManager (1-Way Connection):</p>

<ul>
<li><strong>OTA_HotelInvCountNotifRQ</strong> message to post inventory data (number of rooms built, sold available&hellip;)</li>
<li><strong>OTA_HotelResNotifRQ</strong> message to post reservation creation, modification, cancellation</li>
<li><strong>OTA_HotelInvBlockNotifRQ</strong> message to post group block allocation creation, modification, cancellation</li>
</ul>

<p>From BookingSuite RateManager to the PMS or Channel manager (2-Way Connection):</p>

<ul>
<li><strong>OTA_RatePlanNotifRQ</strong> message: BookingSuite RateManager posts rates triggered by user&rsquo;s validation on our website.</li>
</ul>

<h3 id="authentication">Authentication</h3>

<blockquote>
<p>Authentication</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;Header&gt;</span>
  <span class="nt">&lt;Security</span> <span class="na">mustUnderstand=</span><span class="s">"true"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;UsertextToken&gt;</span>
      <span class="nt">&lt;Username&gt;</span>username_goes_here<span class="nt">&lt;/Username&gt;</span>
      <span class="nt">&lt;Password&gt;</span>password_goes_here<span class="nt">&lt;/Password&gt;</span>
    <span class="nt">&lt;/UsertextToken&gt;</span>
  <span class="nt">&lt;/Security&gt;</span>
<span class="nt">&lt;/Header&gt;</span>
</code></pre>
<p>We authenticate inbound messages with the SOAP protocol’s <code class="prettyprint">&lt;Security&gt;</code> field. We will provide you with a username and password to put into the header.</p>

<p>Without this block, you will get a 400 error with the error message: &ldquo;SOAP Header not valid&rdquo;. </p>

<p>You should receive credentials when beginning the development phase - if not, please contact bookingsuite.connectivity@booking.com.</p>

<h3 id="message-type-summary">Message type summary</h3>

<table><thead>
<tr>
<th>HTNG type</th>
<th>Goal</th>
<th>Mandatory?</th>
<th>Direction</th>
</tr>
</thead><tbody>
<tr>
<td>OTA_HotelResNotifRQ</td>
<td>Receiving property reservation data</td>
<td>Yes</td>
<td>PMS -&gt; RateManager</td>
</tr>
<tr>
<td>OTA_HotelInvCountNotifRQ</td>
<td>Receiving property inventory data</td>
<td>Yes</td>
<td>PMS -&gt; RateManager</td>
</tr>
<tr>
<td>OTA_HotelInvBlockNotifRQ</td>
<td>Receiving property group block data</td>
<td>No</td>
<td>PMS -&gt; RateManager</td>
</tr>
<tr>
<td>OTA_RatePlanNotifRQ</td>
<td>Receiving rate update validated by the customer</td>
<td>Yes</td>
<td>RateManager -&gt; PMS</td>
</tr>
<tr>
<td>OTA_HotelProductRS</td>
<td>Receiving property configuration information</td>
<td>No</td>
<td>PMS -&gt; RateManager</td>
</tr>
</tbody></table>

          <h2 id="send-inventory">Send Inventory</h2>
<pre class="highlight xml tab-xml--create"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> 
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> 
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
  <span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> 
      <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsertextToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsertextToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>unique_message_ID<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvCountNotifRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Inventories</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-01"</span> <span class="na">InvTypeCode=</span><span class="s">"King"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"20"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"15"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"3"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-01"</span> <span class="na">InvTypeCode=</span><span class="s">"Deluxe"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"13"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"10"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-02"</span> <span class="na">InvTypeCode=</span><span class="s">"King"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"20"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"10"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"9"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-02"</span> <span class="na">InvTypeCode=</span><span class="s">"Deluxe"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"13"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"5"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"6"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
      <span class="nt">&lt;/Inventories&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvCountNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre><pre class="highlight xml tab-xml--modify"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> 
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> 
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
  <span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> 
      <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsertextToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsertextToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>unique-message-id<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvCountNotifRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Inventories</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-01"</span> <span class="na">InvTypeCode=</span><span class="s">"King"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"20"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"15"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"3"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-01"</span> <span class="na">InvTypeCode=</span><span class="s">"Deluxe"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"13"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"10"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-02"</span> <span class="na">InvTypeCode=</span><span class="s">"King"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"20"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"11"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"8"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-02"</span> <span class="na">InvTypeCode=</span><span class="s">"Deluxe"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"13"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"5"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"6"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
      <span class="nt">&lt;/Inventories&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvCountNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre><pre class="highlight xml tab-xml--cancel"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> 
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> 
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
  <span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> 
      <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsertextToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsertextToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>unique-message-id<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvCountNotifRQ</span> <span class="na">xmlns=</span><span class="s">"http://www.opentravel.org/OTA/2003/05"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;Inventories</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-01"</span> <span class="na">InvTypeCode=</span><span class="s">"King"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"20"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"16"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-01"</span> <span class="na">InvTypeCode=</span><span class="s">"Deluxe"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"13"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"10"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-02"</span> <span class="na">InvTypeCode=</span><span class="s">"King"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"20"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"11"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"8"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
        <span class="nt">&lt;Inventory&gt;</span>
          <span class="nt">&lt;StatusApplicationControl</span> <span class="na">Start=</span><span class="s">"2017-05-02"</span> <span class="na">InvTypeCode=</span><span class="s">"Deluxe"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvCounts&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"1"</span> <span class="na">Count=</span><span class="s">"13"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"2"</span> <span class="na">Count=</span><span class="s">"5"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"4"</span> <span class="na">Count=</span><span class="s">"6"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"5"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"3"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"6"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;InvCount</span> <span class="na">CountType=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;/InvCounts&gt;</span>
        <span class="nt">&lt;/Inventory&gt;</span>
      <span class="nt">&lt;/Inventories&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvCountNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
<p>The Hotel Inventory Count message provides the ability for a PMS to post inventory amounts.</p>

<p>We support the following inventory codes (CountType in the message body):</p>

<ul>
<li><code class="prettyprint">1</code> <strong>Physical</strong> - number of rooms/units physically existing on the property</li>
<li><code class="prettyprint">2</code> <strong>Definitive availability</strong> - number of rooms/units available, minus number of allotments still available</li>
<li><code class="prettyprint">3</code> <strong>Tentative availability</strong> - number of allotments still available</li>
<li><code class="prettyprint">4</code> <strong>Definitive sold</strong> - number of rooms/units sold - status is confirmed</li>
<li><code class="prettyprint">5</code> <strong>Tentative sold</strong> - number of rooms/units sold - status is option</li>
<li><code class="prettyprint">6</code> <strong>Out of order</strong> - number of rooms/units temporarily unavailable (e.g. remodel, repair, etc.)</li>
<li><code class="prettyprint">8</code> <strong>Out of inventory</strong> - number of rooms/units which are indefinitely unavailable (e.g. construction)</li>
</ul>

<aside class="warning">You must always use all the CountTypes 1, 2, 3, 4, 5, 6 and 8 in every message (even if Count = 0).</aside>

<aside class="notice">The resulting occupancy will be computed this way:<br>
<b>(Definitive sold + Tentative sold + Out of order) / (Physical - Out of inventory)</b></aside>

<p>You should send an update for all the dates and room types modified after each inventory modification.</p>

<p>It is also required to send a full inventory update every 24 hours to correct any missed messages.</p>

<p>If it is not possible to send only the dates and room types modified, instead send a full update every hour (all room types, full horizon 365 days).</p>

<table><thead>
<tr>
<th>Fields we consider</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">HotelCode</code></td>
<td>Maps the message to a specific property. You will receive the hotel code for each new property from BookingSuite.</td>
</tr>
<tr>
<td><code class="prettyprint">Inventory</code></td>
<td>One <code class="prettyprint">&lt;Inventory&gt;</code> block is given for one date and one room type of the inventory update.<aside class="notice">If 2 room types are updated, there will be at least 2 Inventory blocks. If 2 dates are updated, there will be at least 2 Inventory blocks.</aside></td>
</tr>
<tr>
<td><code class="prettyprint">Start</code></td>
<td>The stay date to be processed. The date format has to be YYYY-MM-DD</td>
</tr>
<tr>
<td><code class="prettyprint">InvTypeCode</code></td>
<td>Room type code.</td>
</tr>
<tr>
<td><code class="prettyprint">InvCount</code></td>
<td>One <code class="prettyprint">&lt;InvCount&gt;</code> block defines the inventory count for one given status, for the considered date and room type.<br><br>The <code class="prettyprint">CountType</code> defines the room status based on the list above.<br>The <code class="prettyprint">Count</code> is the value of the updated inventory.</td>
</tr>
</tbody></table>

          <h2 id="send-reservations">Send Reservations</h2>
<pre class="highlight xml tab-xml--create"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> 
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> 
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
  <span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> 
      <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsertextToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsertextToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>unique_message_ID<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelResNotifRQ</span> <span class="na">ResStatus=</span><span class="s">"Commit"</span> <span class="na">TimeStamp=</span><span class="s">"2017-04-04T10:01:29+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;HotelReservations&gt;</span>
        <span class="nt">&lt;HotelReservation</span> <span class="na">CreateDateTime=</span><span class="s">"2017-04-04T10:00:15+01:00"</span> <span class="na">ResStatus=</span><span class="s">"Reserved"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;UniqueID</span> <span class="na">ID=</span><span class="s">"34880"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;POS&gt;</span>
            <span class="nt">&lt;Source&gt;</span>
              <span class="nt">&lt;BookingChannel&gt;</span>
                <span class="nt">&lt;CompanyName</span> <span class="na">Code=</span><span class="s">"OTA"</span><span class="nt">&gt;</span>WEB<span class="nt">&lt;/CompanyName&gt;</span>
              <span class="nt">&lt;/BookingChannel&gt;</span>
            <span class="nt">&lt;/Source&gt;</span>
          <span class="nt">&lt;/POS&gt;</span>
          <span class="nt">&lt;RoomStays&gt;</span>
            <span class="nt">&lt;RoomStay</span> <span class="na">MarketCode=</span><span class="s">"Leisure"</span> <span class="na">SourceOfBusiness=</span><span class="s">"BOOKING.COM"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomRates&gt;</span>
                <span class="nt">&lt;RoomRate</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"BAR"</span> <span class="na">RoomTypeCode=</span><span class="s">"King"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;Rates&gt;</span>
                    <span class="nt">&lt;Rate</span> <span class="na">EffectiveDate=</span><span class="s">"2017-05-01"</span> <span class="na">ExpireDate=</span><span class="s">"2017-05-02"</span> <span class="na">RateTimeUnit=</span><span class="s">"Night"</span> <span class="na">UnitMultiplier=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                      <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"39.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/Rate&gt;</span>
                    <span class="nt">&lt;Rate</span> <span class="na">EffectiveDate=</span><span class="s">"2017-05-02"</span> <span class="na">ExpireDate=</span><span class="s">"2017-05-03"</span> <span class="na">RateTimeUnit=</span><span class="s">"Night"</span> <span class="na">UnitMultiplier=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                      <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"49.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/Rate&gt;</span>
                  <span class="nt">&lt;/Rates&gt;</span>
                <span class="nt">&lt;/RoomRate&gt;</span>
              <span class="nt">&lt;/RoomRates&gt;</span>
              <span class="nt">&lt;GuestCounts&gt;</span>
                <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/GuestCounts&gt;</span>
              <span class="nt">&lt;BasicPropertyInfo</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/RoomStay&gt;</span>
          <span class="nt">&lt;/RoomStays&gt;</span>
          <span class="nt">&lt;ResGuests&gt;</span>
            <span class="nt">&lt;ResGuest&gt;</span>
              <span class="nt">&lt;Profiles&gt;</span>
                <span class="nt">&lt;ProfileInfo&gt;</span>
                  <span class="nt">&lt;Profile&gt;</span>
                    <span class="nt">&lt;Customer&gt;</span>
                      <span class="nt">&lt;Address&gt;</span>
                        <span class="nt">&lt;CountryName</span> <span class="na">Code=</span><span class="s">"UK"</span><span class="nt">/&gt;</span>
                      <span class="nt">&lt;/Address&gt;</span>
                    <span class="nt">&lt;/Customer&gt;</span>
                  <span class="nt">&lt;/Profile&gt;</span>
                <span class="nt">&lt;/ProfileInfo&gt;</span>
              <span class="nt">&lt;/Profiles&gt;</span>
            <span class="nt">&lt;/ResGuest&gt;</span>
          <span class="nt">&lt;/ResGuests&gt;</span>
        <span class="nt">&lt;/HotelReservation&gt;</span>
        <span class="nt">&lt;HotelReservation</span> <span class="na">CreateDateTime=</span><span class="s">"2017-04-15T10:00:13+01:00"</span> <span class="na">ResStatus=</span><span class="s">"Reserved"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;UniqueID</span> <span class="na">ID=</span><span class="s">"42689"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;POS&gt;</span>
            <span class="nt">&lt;Source&gt;</span>
              <span class="nt">&lt;BookingChannel&gt;</span>
                <span class="nt">&lt;CompanyName</span> <span class="na">Code=</span><span class="s">"Comp"</span><span class="nt">&gt;</span>Company<span class="nt">&lt;/CompanyName&gt;</span>
              <span class="nt">&lt;/BookingChannel&gt;</span>
            <span class="nt">&lt;/Source&gt;</span>
          <span class="nt">&lt;/POS&gt;</span>
          <span class="nt">&lt;RoomStays&gt;</span>
            <span class="nt">&lt;RoomStay</span> <span class="na">MarketCode=</span><span class="s">"Corp"</span> <span class="na">SourceOfBusiness=</span><span class="s">"Special Company"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomRates&gt;</span>
                <span class="nt">&lt;RoomRate</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"CORP"</span> <span class="na">RoomTypeCode=</span><span class="s">"Deluxe"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;Rates&gt;</span>
                    <span class="nt">&lt;Rate</span> <span class="na">EffectiveDate=</span><span class="s">"2017-05-01"</span> <span class="na">ExpireDate=</span><span class="s">"2017-05-02"</span> <span class="na">RateTimeUnit=</span><span class="s">"Night"</span> <span class="na">UnitMultiplier=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                      <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"55.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/Rate&gt;</span>
                    <span class="nt">&lt;Rate</span> <span class="na">EffectiveDate=</span><span class="s">"2017-05-02"</span> <span class="na">ExpireDate=</span><span class="s">"2017-05-03"</span> <span class="na">RateTimeUnit=</span><span class="s">"Night"</span> <span class="na">UnitMultiplier=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                      <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"59.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/Rate&gt;</span>
                  <span class="nt">&lt;/Rates&gt;</span>
                <span class="nt">&lt;/RoomRate&gt;</span>
              <span class="nt">&lt;/RoomRates&gt;</span>
              <span class="nt">&lt;GuestCounts</span> <span class="na">IsPerRoom=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/GuestCounts&gt;</span>
              <span class="nt">&lt;BasicPropertyInfo</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/RoomStay&gt;</span>
          <span class="nt">&lt;/RoomStays&gt;</span>
          <span class="nt">&lt;ResGuests&gt;</span>
            <span class="nt">&lt;ResGuest&gt;</span>
              <span class="nt">&lt;Profiles&gt;</span>
                <span class="nt">&lt;ProfileInfo&gt;</span>
                  <span class="nt">&lt;Profile&gt;</span>
                    <span class="nt">&lt;Customer&gt;</span>
                      <span class="nt">&lt;Address&gt;</span>
                        <span class="nt">&lt;CountryName</span> <span class="na">Code=</span><span class="s">"DE"</span><span class="nt">/&gt;</span>
                      <span class="nt">&lt;/Address&gt;</span>
                    <span class="nt">&lt;/Customer&gt;</span>
                  <span class="nt">&lt;/Profile&gt;</span>
                <span class="nt">&lt;/ProfileInfo&gt;</span>
              <span class="nt">&lt;/Profiles&gt;</span>
            <span class="nt">&lt;/ResGuest&gt;</span>
          <span class="nt">&lt;/ResGuests&gt;</span>
        <span class="nt">&lt;/HotelReservation&gt;</span>
      <span class="nt">&lt;/HotelReservations&gt;</span>
    <span class="nt">&lt;/OTA_HotelResNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre><pre class="highlight xml tab-xml--modify"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> 
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> 
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
  <span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> 
      <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsertextToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsertextToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>unique_message_ID<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelResNotifRQ</span> <span class="na">ResStatus=</span><span class="s">"Modify"</span> <span class="na">TimeStamp=</span><span class="s">"2017-04-05T12:09:33+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;HotelReservations&gt;</span>
        <span class="nt">&lt;HotelReservation</span> <span class="na">CreateDateTime=</span><span class="s">"2017-04-04T10:00:15+01:00"</span> <span class="na">ResStatus=</span><span class="s">"Reserved"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;UniqueID</span> <span class="na">ID=</span><span class="s">"34880"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;POS&gt;</span>
            <span class="nt">&lt;Source&gt;</span>
              <span class="nt">&lt;BookingChannel&gt;</span>
                <span class="nt">&lt;CompanyName</span> <span class="na">Code=</span><span class="s">"OTA"</span><span class="nt">&gt;</span>WEB<span class="nt">&lt;/CompanyName&gt;</span>
              <span class="nt">&lt;/BookingChannel&gt;</span>
            <span class="nt">&lt;/Source&gt;</span>
          <span class="nt">&lt;/POS&gt;</span>
          <span class="nt">&lt;RoomStays&gt;</span>
            <span class="nt">&lt;RoomStay</span> <span class="na">MarketCode=</span><span class="s">"Leisure"</span> <span class="na">SourceOfBusiness=</span><span class="s">"BOOKING.COM"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomRates&gt;</span>
                <span class="nt">&lt;RoomRate</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"BAR"</span> <span class="na">RoomTypeCode=</span><span class="s">"King"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;Rates&gt;</span>
                    <span class="nt">&lt;Rate</span> <span class="na">EffectiveDate=</span><span class="s">"2017-05-01"</span> <span class="na">ExpireDate=</span><span class="s">"2017-05-02"</span> <span class="na">RateTimeUnit=</span><span class="s">"Night"</span> <span class="na">UnitMultiplier=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                      <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"39.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/Rate&gt;</span>
                  <span class="nt">&lt;/Rates&gt;</span>
                <span class="nt">&lt;/RoomRate&gt;</span>
              <span class="nt">&lt;/RoomRates&gt;</span>
              <span class="nt">&lt;GuestCounts&gt;</span>
                <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/GuestCounts&gt;</span>
              <span class="nt">&lt;BasicPropertyInfo</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/RoomStay&gt;</span>
          <span class="nt">&lt;/RoomStays&gt;</span>
          <span class="nt">&lt;ResGuests&gt;</span>
            <span class="nt">&lt;ResGuest&gt;</span>
              <span class="nt">&lt;Profiles&gt;</span>
                <span class="nt">&lt;ProfileInfo&gt;</span>
                  <span class="nt">&lt;Profile&gt;</span>
                    <span class="nt">&lt;Customer&gt;</span>
                      <span class="nt">&lt;Address&gt;</span>
                        <span class="nt">&lt;CountryName</span> <span class="na">Code=</span><span class="s">"UK"</span><span class="nt">/&gt;</span>
                      <span class="nt">&lt;/Address&gt;</span>
                    <span class="nt">&lt;/Customer&gt;</span>
                  <span class="nt">&lt;/Profile&gt;</span>
                <span class="nt">&lt;/ProfileInfo&gt;</span>
              <span class="nt">&lt;/Profiles&gt;</span>
            <span class="nt">&lt;/ResGuest&gt;</span>
          <span class="nt">&lt;/ResGuests&gt;</span>
        <span class="nt">&lt;/HotelReservation&gt;</span>
      <span class="nt">&lt;/HotelReservations&gt;</span>
    <span class="nt">&lt;/OTA_HotelResNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre><pre class="highlight xml tab-xml--cancel"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> 
  <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> 
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
  <span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> 
      <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsertextToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsertextToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>unique_message_ID<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelResNotifRQ</span> <span class="na">ResStatus=</span><span class="s">"Cancel"</span> <span class="na">TimeStamp=</span><span class="s">"2017-04-06T09:23:48+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;HotelReservations&gt;</span>
        <span class="nt">&lt;HotelReservation</span> <span class="na">CreateDateTime=</span><span class="s">"2017-04-04T10:00:15+01:00"</span> <span class="na">ResStatus=</span><span class="s">"Cancelled"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;UniqueID</span> <span class="na">ID=</span><span class="s">"34880"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;POS&gt;</span>
            <span class="nt">&lt;Source&gt;</span>
              <span class="nt">&lt;BookingChannel&gt;</span>
                <span class="nt">&lt;CompanyName</span> <span class="na">Code=</span><span class="s">"OTA"</span><span class="nt">&gt;</span>WEB<span class="nt">&lt;/CompanyName&gt;</span>
              <span class="nt">&lt;/BookingChannel&gt;</span>
            <span class="nt">&lt;/Source&gt;</span>
          <span class="nt">&lt;/POS&gt;</span>
          <span class="nt">&lt;RoomStays&gt;</span>
            <span class="nt">&lt;RoomStay</span> <span class="na">MarketCode=</span><span class="s">"Leisure"</span> <span class="na">SourceOfBusiness=</span><span class="s">"BOOKING.COM"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomRates&gt;</span>
                <span class="nt">&lt;RoomRate</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"BAR"</span> <span class="na">RoomTypeCode=</span><span class="s">"King"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;Rates&gt;</span>
                    <span class="nt">&lt;Rate</span> <span class="na">EffectiveDate=</span><span class="s">"2017-05-01"</span> <span class="na">ExpireDate=</span><span class="s">"2017-05-02"</span> <span class="na">RateTimeUnit=</span><span class="s">"Night"</span> <span class="na">UnitMultiplier=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                      <span class="nt">&lt;Base</span> <span class="na">AmountAfterTax=</span><span class="s">"39.00"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;/Rate&gt;</span>
                  <span class="nt">&lt;/Rates&gt;</span>
                <span class="nt">&lt;/RoomRate&gt;</span>
              <span class="nt">&lt;/RoomRates&gt;</span>
              <span class="nt">&lt;GuestCounts&gt;</span>
                <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">Count=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;GuestCount</span> <span class="na">AgeQualifyingCode=</span><span class="s">"8"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/GuestCounts&gt;</span>
              <span class="nt">&lt;BasicPropertyInfo</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/RoomStay&gt;</span>
          <span class="nt">&lt;/RoomStays&gt;</span>
          <span class="nt">&lt;ResGuests&gt;</span>
            <span class="nt">&lt;ResGuest&gt;</span>
              <span class="nt">&lt;Profiles&gt;</span>
                <span class="nt">&lt;ProfileInfo&gt;</span>
                  <span class="nt">&lt;Profile&gt;</span>
                    <span class="nt">&lt;Customer&gt;</span>
                      <span class="nt">&lt;Address&gt;</span>
                        <span class="nt">&lt;CountryName</span> <span class="na">Code=</span><span class="s">"UK"</span><span class="nt">/&gt;</span>
                      <span class="nt">&lt;/Address&gt;</span>
                    <span class="nt">&lt;/Customer&gt;</span>
                  <span class="nt">&lt;/Profile&gt;</span>
                <span class="nt">&lt;/ProfileInfo&gt;</span>
              <span class="nt">&lt;/Profiles&gt;</span>
            <span class="nt">&lt;/ResGuest&gt;</span>
          <span class="nt">&lt;/ResGuests&gt;</span>
        <span class="nt">&lt;/HotelReservation&gt;</span>
      <span class="nt">&lt;/HotelReservations&gt;</span>
    <span class="nt">&lt;/OTA_HotelResNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
<p>This endpoint posts a new reservation creation, modification or cancellation to BookingSuite RateManager. The immediate response is a standard HTTP code (Ack / Nack).</p>

<p>Each OTA_HotelResNotifRQ message can contain up to 1000 reservations for a single hotel. These reservations are in a <code class="prettyprint">&lt;HotelReservation&gt;</code> block, and must be gathered under the same transactional status.</p>

<table><thead>
<tr>
<th>Fields we consider</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">OTA_ResNotifRQ</code><br><code class="prettyprint">ResStatus</code></td>
<td>Transactional status of the reservation. It can be:<br>- &lsquo;Commit&rsquo; (creates a new reservation)<br>- &lsquo;Modify&rsquo; (updates an existing reservation)<br>- &lsquo;Cancel&rsquo; (cancels a reservation)</td>
</tr>
<tr>
<td><code class="prettyprint">&lt;HotelReservation&gt;</code></td>
<td>Reservation block. We accept up to 1000 blocks.</td>
</tr>
<tr>
<td><code class="prettyprint">CreateDateTime</code></td>
<td>This is what we consider as the booking date. Please ensure the timezone matches that of the property. Format 2016-10-09T08:51:45 UTC</td>
</tr>
<tr>
<td><code class="prettyprint">HotelReservation</code><br><code class="prettyprint">ResStatus</code></td>
<td>Reservation status. It can be:<br>- Reserved (confirmed reservation)<br>- Waitlisted(reservation on waitlist)<br>- In-House (in-house booking)<br>- Checked-Out (already checked-out reservation)<br>- Cancelled (already cancelled reservation)<br> <aside class="warning">Not to be confused with <code class="prettyprint">OTA_ResNotifRQ ResStatus</code></aside></td>
</tr>
<tr>
<td><code class="prettyprint">UniqueID</code></td>
<td>Unique reservation ID of the reservation that will permit us to link your message to the reservation in our database.</td>
</tr>
<tr>
<td><code class="prettyprint">HotelCode</code></td>
<td>Maps the message to a specific property. You will receive the hotel code for each new property from BookingSuite.</td>
</tr>
<tr>
<td><code class="prettyprint">CompanyName</code></td>
<td>We take this block as the source of the booking.<br>‘Code’ specifies the source (web, OTA, email, etc.), while the field is the general channel (Walk-in, WEB, TEL).</td>
</tr>
<tr>
<td><code class="prettyprint">RoomStay</code></td>
<td>One <code class="prettyprint">&lt;Roomstay&gt;</code> block is one room booked for the given reservation.</td>
</tr>
<tr>
<td><code class="prettyprint">MarketCode</code></td>
<td><code class="prettyprint">MarketCode</code> is the intent of the stay, and what we take as segmentation data (leisure, corporate, etc).</td>
</tr>
<tr>
<td><code class="prettyprint">SourceOfBusiness</code></td>
<td><code class="prettyprint">SourceOfBusiness</code> is what we take as the agency.</td>
</tr>
<tr>
<td><code class="prettyprint">RoomRate</code></td>
<td>One <code class="prettyprint">&lt;RoomRate&gt;</code> block represents one rate for one rate plan and one room type.<aside class="notice">If the booking has 2 different room types, there will be at least 2 <code class="prettyprint">RoomRate</code> blocks. If a booking has one room type, with 2 nights with a different rate plan, there will be 2 <code class="prettyprint">RoomRate</code> blocks.</aside></td>
</tr>
<tr>
<td><code class="prettyprint">RoomTypeCode</code></td>
<td>Room type. It must match the <code class="prettyprint">InvTypeCode</code> in inventory messages.</td>
</tr>
<tr>
<td><code class="prettyprint">RatePlanCode</code></td>
<td>Rate plan used for this reservation</td>
</tr>
<tr>
<td><code class="prettyprint">NumberOfUnits</code></td>
<td>Number of rooms under the same roomtype and rate plan.</td>
</tr>
<tr>
<td><code class="prettyprint">Rate</code></td>
<td>One <code class="prettyprint">&lt;Rate&gt;</code> block is for one amount for the given rate plan and room type for a given period.<aside class="notice">If the rate plan implies 2 different prices for two different days, there will be at least 2 <code class="prettyprint">&lt;Rate&gt;</code> blocks.</aside></td>
</tr>
<tr>
<td><code class="prettyprint">EffectiveDate</code><br><code class="prettyprint">ExpireDate</code></td>
<td>Dates to define the time range of the <code class="prettyprint">&lt;Rate&gt;</code>. We consider that one rate is applied for one night. <aside class="warning">The <code>ExpireDate</code> should not be the same as <code>EffectiveDate</code> The reservation would be considered a day-stay and would not be counted in occupancy.</aside></td>
</tr>
<tr>
<td><code class="prettyprint">AmountAfterTax</code><br><code class="prettyprint">CurrencyCode</code></td>
<td>Amount for the given rate plan, room type, time period, and its currency (in <a href="https://en.wikipedia.org/wiki/ISO_4217" target="_blank">ISO 4217</a>).</td>
</tr>
<tr>
<td><code class="prettyprint">AgeQualifyingCode</code></td>
<td>This block represents the number of people in the <code class="prettyprint">&lt;RoomStay&gt;</code>. The <code class="prettyprint">AgeQualifyingCode=10</code> is the number of adults (in <code class="prettyprint">Count</code> value), and <code class="prettyprint">AgeQualifyingCode=8</code> is the number of children.</td>
</tr>
<tr>
<td><code class="prettyprint">CountryName</code></td>
<td>The only information we take from guests is their country of origin for segmentation analysis.</td>
</tr>
</tbody></table>

          <h2 id="send-group-blocks">Send Group Blocks</h2>
<pre class="highlight xml tab-xml--create"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> 
<span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span> 
<span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsernameToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsernameToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>8ee65699-8b8b-8427-2822-687da8b55a89<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:CorrelationID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/wsa:CorrelationID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvBlockNotifRQ</span> <span class="na">TimeStamp=</span><span class="s">"2017-05-04T14:03:10+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;InvBlocks&gt;</span>
        <span class="nt">&lt;InvBlock</span> <span class="na">InvBlockCode=</span><span class="s">"FANCY_CONGRESS"</span> <span class="na">TransactionAction=</span><span class="s">"Book"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;HotelRef</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvBlockDates</span> <span class="na">AbsoluteCutoff=</span><span class="s">"2017-06-01"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;RoomTypes&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">RoomTypeCode=</span><span class="s">"C2T"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"25"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"105.00"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"90"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"95"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"TWB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-02"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"220"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP3"</span> <span class="na">Start=</span><span class="s">"2017-06-02"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"110"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
          <span class="nt">&lt;/RoomTypes&gt;</span>
        <span class="nt">&lt;/InvBlock&gt;</span>
      <span class="nt">&lt;/InvBlocks&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvBlockNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre><pre class="highlight xml tab-xml--modify"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> 
<span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span> 
<span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsernameToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsernameToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>8ee65699-8b8b-8427-2822-687da8b55a89<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:CorrelationID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/wsa:CorrelationID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvBlockNotifRQ</span> <span class="na">TimeStamp=</span><span class="s">"2017-05-06T12:48:23+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;InvBlocks&gt;</span>
        <span class="nt">&lt;InvBlock</span> <span class="na">InvBlockCode=</span><span class="s">"FANCY_CONGRESS"</span> <span class="na">TransactionAction=</span><span class="s">"Modify"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;HotelRef</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvBlockDates</span> <span class="na">AbsoluteCutoff=</span><span class="s">"2017-06-01"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;RoomTypes&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">RoomTypeCode=</span><span class="s">"C2T"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"25"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"105.00"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"90"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"95"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"TWB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-02"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"220"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP3"</span> <span class="na">Start=</span><span class="s">"2017-06-02"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"110"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
          <span class="nt">&lt;/RoomTypes&gt;</span>
        <span class="nt">&lt;/InvBlock&gt;</span>
      <span class="nt">&lt;/InvBlocks&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvBlockNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre><pre class="highlight xml tab-xml--cancel"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> 
<span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span> 
<span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsernameToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsernameToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>8ee65699-8b8b-8427-2822-687da8b55a89<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:CorrelationID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/wsa:CorrelationID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvBlockNotifRQ</span> <span class="na">TimeStamp=</span><span class="s">"2017-05-07T16:08:13+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;InvBlocks&gt;</span>
        <span class="nt">&lt;InvBlock</span> <span class="na">InvBlockCode=</span><span class="s">"FANCY_CONGRESS"</span> <span class="na">TransactionAction=</span><span class="s">"Cancel"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;HotelRef</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvBlockDates</span> <span class="na">AbsoluteCutoff=</span><span class="s">"2017-05-01"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;RoomTypes&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">RoomTypeCode=</span><span class="s">"C2T"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"25"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"105.00"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"90"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"95"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"TWB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-02"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"220"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP3"</span> <span class="na">Start=</span><span class="s">"2017-06-02"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"110"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
          <span class="nt">&lt;/RoomTypes&gt;</span>
        <span class="nt">&lt;/InvBlock&gt;</span>
      <span class="nt">&lt;/InvBlocks&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvBlockNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
<p>This message permits RateManager to be alerted about a group block. We consider a group block to be a large booking (generally more than 10 rooms) that needs to be confirmed by participants and is under a specific expiration policy.</p>

<p>We use the HTNG 2013 specification to define the number of rooms blocked, and already sold. Each message should contain one block (one unique block id) for a single hotel.
The message processing happens like this:</p>

<ol>
<li>We cross all room types, for each room type we cross all rate plans applied and save them in memory</li>
<li>We cross all counts of each block and attach them to one room type and one rate plan</li>
<li>Finally, we consider each day of the group block to create one booking with the right room type, rate plan and number of units blocked or sold</li>
</ol>

<aside class="warning">Please note that at each modification of the block, we delete the block to insert it again. That means that you must send the complete block each time.</aside>

<table><thead>
<tr>
<th>Fields we consider</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">InvBlock</code></td>
<td>It&rsquo;s the block allocation block. We accept one InvBlock block for now.</td>
</tr>
<tr>
<td><code class="prettyprint">TransactionAction</code></td>
<td>The transactional status of the block. It can be:<br>- &lsquo;Book&rsquo; (creates a new reservation)<br>- &lsquo;Modify&rsquo; (updates an existing reservation)<br>- &lsquo;Cancel&rsquo; (cancels a reservation)</td>
</tr>
<tr>
<td><code class="prettyprint">InvBlockCode</code></td>
<td>The unique block ID that allow us to link all future messages to the right block in our database.</td>
</tr>
<tr>
<td><code class="prettyprint">HotelCode</code></td>
<td>Maps the message to a specific property. You will receive the hotel code for each new property from BookingSuite.</td>
</tr>
<tr>
<td><code class="prettyprint">InvBlockDates</code></td>
<td>Global dates of the block considered. <code class="prettyprint">Start</code> is the start date, <code class="prettyprint">End</code> the end date, and <code class="prettyprint">AbsoluteCutoff</code> is the release date of the block. <br>We consider the block released where AbsoluteCutoff &lt;= Today (including today)</td>
</tr>
<tr>
<td><code class="prettyprint">RoomType</code></td>
<td>One <code class="prettyprint">RoomType</code> block is the piece of the block with a given room type and rate plan. <br>If there is only one rate plan and 2 different room types for the block, there will be at least 2 <code class="prettyprint">RoomType</code> blocks.</td>
</tr>
<tr>
<td><code class="prettyprint">CompanyName</code></td>
<td>We take this block as the source of the booking.<br>‘Code’ specifies the source (web, OTA, email, etc.), while the field is the general channel (Walk-in, WEB, TEL).</td>
</tr>
<tr>
<td><code class="prettyprint">RatePlan</code></td>
<td>One <code class="prettyprint">RatePlan</code> block gives the description of the rate plan for the given room type and time range.</td>
</tr>
<tr>
<td><code class="prettyprint">RatePlanCode</code></td>
<td>The <code class="prettyprint">RatePlanCode</code> is the rate plan code that will be shown and considered in our database, the <code class="prettyprint">CurrencyCode</code> the currency for the given rate plan (in ISO 4217).</td>
</tr>
<tr>
<td><code class="prettyprint">BaseByGuestAmt</code></td>
<td>One <code class="prettyprint">BaseByGuestAmt</code> allow to give the amount depending of the number of people that will finally be confirmed in the booking. We save in our database only the amount for <code class="prettyprint">NumberOfGuests</code> = 1</td>
</tr>
<tr>
<td><code class="prettyprint">AmountAfterTax</code></td>
<td>The amount after tax for the given rate plan. We don&rsquo;t save the amount before tax.</td>
</tr>
<tr>
<td><code class="prettyprint">RoomTypeAllocations</code></td>
<td><code class="prettyprint">RoomTypeAllocations</code> defines the number of units per status. The statuses we consider are:<br>- 1 Definite availability<br>- 2 Tentative availability<br>- 3 Definite sold<br>- 4 Tentative sold<br><aside class="notice">The final number of units blocked for a given date will be:<br>(Definite availability + Tentative availability) - (Definite sold + Tentative sold)</aside></td>
</tr>
<tr>
<td><code class="prettyprint">RoomTypeAllocation</code></td>
<td>One <code class="prettyprint">RoomTypeAllocation</code> line gives the number of units for the given <code class="prettyprint">RoomTypePickupStatus</code> and a considered time range (starting with <code class="prettyprint">Start</code>, finishing with <code class="prettyprint">End</code>).<br>Generally, Start=End.</td>
</tr>
</tbody></table>

          <h2 id="receive-rate-updates">Receive Rate Updates</h2>

<blockquote>
<p>Request body from RateManager to provider - POST url provided by you</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> <span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header</span> <span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> <span class="na">xmlns:htng=</span><span class="s">"http://htng.org/PWSWG/2007/02/AsyncHeaders"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;htng:CorrelationID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/htng:CorrelationID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://partners.url.com<span class="nt">&lt;/wsa:To&gt;</span>
    <span class="nt">&lt;wsa:Action&gt;</span>http://htng.org/PWSWG/2010/12/RatePlan_SubmitRequest<span class="nt">&lt;/wsa:Action&gt;</span>
    <span class="nt">&lt;wsa:ReplyTo&gt;</span>
      <span class="nt">&lt;wsa:Address&gt;</span>https://partners.url.com<span class="nt">&lt;/wsa:Address&gt;</span>
    <span class="nt">&lt;/wsa:ReplyTo&gt;</span>
    <span class="nt">&lt;htng:ReplyTo&gt;</span>
      <span class="nt">&lt;wsa:Address&gt;</span>https://api.pricematch.travel/rate_push_callback<span class="nt">&lt;/wsa:Address&gt;</span>
    <span class="nt">&lt;/htng:ReplyTo&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">soap:mustUnderstand=</span><span class="s">"true"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsernameToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsernameToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelRatePlanNotifRQ</span> <span class="na">TimeStamp=</span><span class="s">"2016-12-05T14:57:29+00:00"</span> <span class="na">Version=</span><span class="s">"6.000"</span> <span class="na">MessageContentCode=</span><span class="s">"8"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;RatePlans</span> <span class="na">HotelCode=</span><span class="s">"13864"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"BAR"</span> <span class="na">RatePlanNotifType=</span><span class="s">"Delta"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;Rates&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">Start=</span><span class="s">"2017-03-05"</span> <span class="na">End=</span><span class="s">"2017-03-05"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">InvTypeCode=</span><span class="s">"DOUBLE"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">AmountAfterTax=</span><span class="s">"153"</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">AmountAfterTax=</span><span class="s">"173"</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
            <span class="nt">&lt;/Rate&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">Start=</span><span class="s">"2017-03-05"</span> <span class="na">End=</span><span class="s">"2017-03-05"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">InvTypeCode=</span><span class="s">"KING"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">AmountAfterTax=</span><span class="s">"163.0"</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
            <span class="nt">&lt;/Rate&gt;</span>
          <span class="nt">&lt;/Rates&gt;</span>
        <span class="nt">&lt;/RatePlan&gt;</span>
      <span class="nt">&lt;/RatePlans&gt;</span>
    <span class="nt">&lt;/OTA_HotelRatePlanNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
<blockquote>
<p>GET https://api.pricematch.travel/retrieve_responses?hotel_code=hotelcode&amp;username=user&amp;password=pass</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> <span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header</span> <span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> <span class="na">xmlns:htng=</span><span class="s">"http://htng.org/PWSWG/2007/02/AsyncHeaders"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;htng:CorrelationID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/htng:CorrelationID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://partners.url.com<span class="nt">&lt;/wsa:To&gt;</span>
    <span class="nt">&lt;wsa:Action&gt;</span>http://htng.org/PWSWG/2010/12/RatePlan_SubmitRequest<span class="nt">&lt;/wsa:Action&gt;</span>
    <span class="nt">&lt;wsa:ReplyTo&gt;</span>
      <span class="nt">&lt;wsa:Address&gt;</span>https://partners.url.com<span class="nt">&lt;/wsa:Address&gt;</span>
    <span class="nt">&lt;/wsa:ReplyTo&gt;</span>
    <span class="nt">&lt;htng:ReplyTo&gt;</span>
      <span class="nt">&lt;wsa:Address&gt;</span>https://api.pricematch.travel/rate_push_callback<span class="nt">&lt;/wsa:Address&gt;</span>
    <span class="nt">&lt;/htng:ReplyTo&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">soap:mustUnderstand=</span><span class="s">"true"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsernameToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsernameToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelRatePlanNotifRQ</span> <span class="na">TimeStamp=</span><span class="s">"2016-12-05T14:57:29+00:00"</span> <span class="na">Version=</span><span class="s">"6.000"</span> <span class="na">MessageContentCode=</span><span class="s">"8"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;RatePlans</span> <span class="na">HotelCode=</span><span class="s">"13864"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"BAR"</span> <span class="na">RatePlanNotifType=</span><span class="s">"Delta"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;Rates&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">Start=</span><span class="s">"2017-03-05"</span> <span class="na">End=</span><span class="s">"2017-03-05"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">InvTypeCode=</span><span class="s">"DOUBLE"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">AmountAfterTax=</span><span class="s">"153"</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">AmountAfterTax=</span><span class="s">"173"</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
            <span class="nt">&lt;/Rate&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">Start=</span><span class="s">"2017-03-05"</span> <span class="na">End=</span><span class="s">"2017-03-05"</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">InvTypeCode=</span><span class="s">"KING"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span> <span class="na">AgeQualifyingCode=</span><span class="s">"10"</span> <span class="na">AmountAfterTax=</span><span class="s">"163.0"</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
            <span class="nt">&lt;/Rate&gt;</span>
          <span class="nt">&lt;/Rates&gt;</span>
        <span class="nt">&lt;/RatePlan&gt;</span>
      <span class="nt">&lt;/RatePlans&gt;</span>
    <span class="nt">&lt;/OTA_HotelRatePlanNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
<p>This message allows us to notify your system about rate updates that a property would like to perform, and lets you handle channel management. These rate updates can be triggered manually by the property, or automatically according to RateManager settings decided by the property (difference with the current price, dates, etc&hellip;).</p>

<p>The message contains the list of the new prices for different check-in dates and their corresponding conditions (room type, the number of guests, and the rate plan). Since our Revenue Management System and your system use different codes (hotel codes, room codes, etc.), we should agree beforehand on which system codes we should use in the message. By default, we assume we will use all your system codes. Please let us know if you want to do otherwise.
<aside class="notice">All rates we push have been approved by the user first - any updates that are implemented have been analyzed and validated by the property owner. Once you receive a price update for a specific date, room type, rate plan and occupancy combination, the old price in your system needs to be overwritten.</aside></p>

<h3 id="push-mode-post-from-ratemanager-to-your-system">Push Mode (POST from RateManager to your system)</h3>

<p>You must provide a web service to which we can send HTTP POST requests with the <code class="prettyprint">OTA_HotelRatePlanNotifRQ</code> message inside a SOAP envelope as the body. You have to apply the updates asynchronously: this means you have to respond to our POST before trying to send the rate updates to any other system. The response should be quick, regardless of the number of rate updates, and any costly computation that takes more than few seconds should be performed asynchronously.</p>

<p>You must also inform us about the success or the failure of the rate push by sending a POST request to the callback url. If the update failed, you must provide us with a helpful error message to understand the issue. It will help us fix a whole range of problems without involving your support team, and make communication easy and efficient. You should provide different error messages for the following errors:</p>

<ul>
<li>If the username/password is wrong</li>
<li>If the connection is not activated/configured</li>
<li>If the hotel code is not correct or not associated with the username/password.</li>
<li>If the rate plan is wrong</li>
<li>If one of the room codes is wrong (please specify which code(s))</li>
<li>If anything else prevented the success of the rate update</li>
</ul>

<aside class="notice">Regarding security, we use dynamic IP, so please do not use any IP whitelisting for your web service. If you are concerned with security, please enable SSL/HTTPS.</aside>

<h3 id="pull-mode-get-from-your-system-to-ratemanager">Pull Mode (GET from your system to RateManager)</h3>

<p>You can also choose to collect the rate updates from our system via a GET. In this mode, you should hit our endpoint periodically, ideally every 5 minutes or so, to receive the rate updates that haven&rsquo;t been sent yet.</p>

<p><code class="prettyprint">GET https://api.pricematch.travel/retrieve_responses?hotel_code=hotelcode&amp;username=user&amp;password=pass</code></p>

<p>This endpoint works as a queueing system. Meaning that when you send a GET request, If we have rate updates to send, you will get only the one on top of the queue, and we’ll delete it from our system. So that when you GET again, the next rate update will be send.</p>

<p>If we don&rsquo;t have any rate updates to send, we&rsquo;ll respond with a 204 status code (no content).</p>

<p>When receiving a rate, you should keep sending another GET request in a loop, until you receive a 204. That’s very important, otherwise you might get into a condition where you never manage to fetch all the rates updates we have.</p>

<table><thead>
<tr>
<th>Fields we consider</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">MessageID</code></td>
<td>The <code class="prettyprint">MessageID</code> should be used inside the asynchronous callback message.</td>
</tr>
<tr>
<td><code class="prettyprint">Address</code></td>
<td>The URL to send the asynchronous call back message.</td>
</tr>
<tr>
<td><code class="prettyprint">UsernameToken</code></td>
<td>This field will contain your web service credentials. It can be one username/password for all properties, or a different username/password for each property.<aside class="notice">The first possibility (one username/password for all properties) is easier to manage.</aside></td>
</tr>
<tr>
<td><code class="prettyprint">HotelCode</code></td>
<td>The <code class="prettyprint">Hotel Code</code> variable maps the message to a specific property. You will receive the hotel code for each new property from BookingSuite.</td>
</tr>
<tr>
<td><code class="prettyprint">RatePlanCode</code></td>
<td>The rate policy code we refer to. If your system doesn’t support different rate policies, we can send a default value like BAR.</td>
</tr>
<tr>
<td><code class="prettyprint">Start</code><br><code class="prettyprint">End</code></td>
<td>The date range attributes. Both are inclusive.</td>
</tr>
<tr>
<td><code class="prettyprint">CurrencyCode</code></td>
<td>The currency considered for this rate block.</td>
</tr>
<tr>
<td><code class="prettyprint">InvTypeCode</code></td>
<td><code class="prettyprint">InvTypeCode</code> can be anything that enable us to uniquely identify a room type for a given hotel. It could be a room type or a room code (your choice).</td>
</tr>
<tr>
<td><code class="prettyprint">BaseByGuestAmt</code><br><code class="prettyprint">NumberOfGuests</code><br><code class="prettyprint">AmountAfterTax</code></td>
<td><code class="prettyprint">NumberOfGuests</code> is the number of guests considered for the given amount, rate policy and room type.<br><code class="prettyprint">AmountAfterTax</code> is a positive numeric value that is the rate to apply for the given rate policy, room type and number of people.</td>
</tr>
</tbody></table>

          <h2 id="self-build">Self Build</h2>

<h3 id="full-automation-workflow">Full automation workflow</h3>

<p><img src="images/fullautomation.PNG" alt="selfbuild" /></p>

<h3 id="partner-signs-up-for-ratemanager">Partner signs up for RateManager</h3>

<blockquote>
<p>Redirect from RateManager signup to provider authentication screen:</p>

<p>304 to https://[provider_url.com]?hotel_code=<b>12345</b>&amp;token=<b>a2ed4f5</b></p>
</blockquote>

<p>You need to provide us with a endpoint URL for new signups.
BookingSuite will send a 304 with a unique token and the Booking.com hotel ID.</p>

<p>You need to be able to accept and validate the Booking.com ID and map it to your own hotel ID.</p>

<p>The hotel partner will be redirected to your domain with the Booking.com hotel ID and unique token. This should be an authentication screen where the hotel partner can then log in with their credentials, choose a property (if applicable) and accept terms (if any).</p>

<blockquote>
<p>Redirect back to RateManager onboaridng process once successfully authenticated:</p>

<p>304 to https://bookingsuite.revenue-management.travel/onboarding?token=<b>a2ed4f5</b></p>
</blockquote>

<p>Upon successfuly authentication, you should send us back a 304 with the same unique token.</p>

<p>The hotel partner will be redirected back to our onboarding platform to continue setup of their RateManager.</p>

<p>Once the hotel partner was successfully authenticated, you should trigger sending the hotel’s initial data (history, current, future reservations and inventory) and activate the interface.</p>

<p><img src="images/signup.PNG" alt="signup" /></p>

<aside class="warning">This process must be asynchronous, meaning that you should not wait for all the data to be sent before redirecting back to us. The 304 redirect should be sent immediately so the hotel partner can continue using RateManager.</aside>

<h3 id="hotel-config">Hotel Config</h3>

<blockquote>
<p>GET https://[provider_url.com]?hotel_code=123&amp;username=me&amp;password=hi</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;OTA_HotelProductRS&gt;</span>
<span class="nt">&lt;HotelProducts&gt;</span>
   <span class="nt">&lt;HotelProduct&gt;</span>
       <span class="nt">&lt;RoomTypes&gt;</span>
           <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"3984"</span> <span class="na">RoomTypeName=</span><span class="s">"Double - Disabled Access"</span> <span class="na">MaxOccupancy=</span><span class="s">"2"</span> <span class="na">NbrOfBedrooms=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>
           <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"3985"</span> <span class="na">RoomTypeName=</span><span class="s">"Double"</span> <span class="na">MaxOccupancy=</span><span class="s">"2"</span> <span class="na">NbrOfBedrooms=</span><span class="s">"5"</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"3987"</span> <span class="na">RoomTypeName=</span><span class="s">"Executive Double"</span> <span class="na">MaxOccupancy=</span><span class="s">"2"</span> <span class="na">NbrOfBedrooms=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"3988"</span> <span class="na">RoomTypeName=</span><span class="s">"Superior Double"</span> <span class="na">MaxOccupancy=</span><span class="s">"2"</span> <span class="na">NbrOfBedrooms=</span><span class="s">"3"</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;/RoomTypes&gt;</span>
       <span class="nt">&lt;RatePlans&gt;</span>
           <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"30327"</span> <span class="na">RatePlanName=</span><span class="s">"Bed and Breakfast"</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"30332"</span> <span class="na">RatePlanName=</span><span class="s">"Corporate Bed and Breakfast"</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;/RatePlans&gt;</span>
   <span class="nt">&lt;/HotelProduct&gt;</span>
<span class="nt">&lt;/HotelProducts&gt;</span>
<span class="nt">&lt;/OTA_HotelProductRS&gt;</span>
</code></pre>
<p>In order to successfully set up the rate update we need to be able to map your rooms and rate plans to the calendar views in RateManager. You need to provide us with an endpoint we can call to get the hotel configuration.</p>

<p>Authentication should be handled within the URL and the credentials need to be the same as the ones used in other messages.</p>

<p>The response should include the following:</p>

<table><thead>
<tr>
<th>Room types</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">RoomTypeCode</code></td>
<td>Room type code used in the inventory and reservation messages.</td>
</tr>
<tr>
<td><code class="prettyprint">RoomTypeName</code></td>
<td>Full name of the room. This will be displayed in reporting.</td>
</tr>
<tr>
<td><code class="prettyprint">MaxOccupancy</code></td>
<td>Maximum occupancy of that room type.</td>
</tr>
<tr>
<td><code class="prettyprint">NbrOfBedrooms</code></td>
<td>Total number of rooms of this type in the property.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Rate plans</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">RatePlanCode</code></td>
<td>Rate plan code used in the reservation messages.</td>
</tr>
<tr>
<td><code class="prettyprint">RatePlanName</code></td>
<td>Full name of the rate plan. This will be displayed in reporting.</td>
</tr>
</tbody></table>

<h3 id="reset-re-sync">Reset - Re-sync</h3>

<blockquote>
<p>GET https://[provider_url.com]?hotel_code=123&amp;username=me&amp;password=hi</p>
</blockquote>

<p>Ask the PMS to send data again (start from scratch: history + in house + future)
PMS needs to provide us with an endpoint we can call
The only response expected is 200
PMS will use the usual endpoint to post data</p>

          <h1 id="sandbox">Sandbox</h1>

<p>The sandbox gives you a safe place to send and view messages for testing purposes.</p>

<p>The following information will be provided upon the start of development:</p>

<ul>
<li><strong>Message Credentials (Username &amp; Password)</strong>: These are unique per PMS</li>
<li><strong>Hotel Code</strong>: This is a sample hotel code that permits you to route messages to your specific sandbox environment</li>
<li><strong>Sandbox URL</strong>: This will redirect you to the sandbox (messages received; their responses; reservations that are saved; resulting inventory/occupancy)</li>
</ul>

<aside class="notice">If you did not receive your sandbox information, please request it at bookingsuite.connectivity@booking.com</aside>

<h2 id="using-the-sandbox">Using the sandbox</h2>

<p>Your sandbox consists of two main sections: Reservations/Inventory and Rates push.</p>

<p><img src="images/sandbox/1.png" alt="sandbox" /></p>

<p>Depending on your agreement with BookingSuite, the Rates push tab may be disabled at first. It can be activated later when needed by contacting bookingsuite.connectivity@booking.com, or via the Help button in the lower-left corner of the screen.</p>

<p>The following articles will explain the individual sections within each tab.</p>

<h2 id="messages-received">Messages received</h2>

<p>Every message you send to our endpoint (https://api.pricematch.travel/htng_message) will appear here. This requires having the correct username and password in the SOAP header of the message.</p>

<p><img src="images/sandbox/2.png" alt="sandbox" /></p>

<p>The last 10 messages received are sorted here by timestamp in descending order. You can download each message by clicking on its name. You will also be able to see any errors appearing in the messages with a brief explanation.</p>

<p><img src="images/sandbox/3.png" alt="sandbox" /></p>

<h2 id="reservations">Reservations</h2>

<p>The Reservations view lists the reservations sent via OTA_HotelResNotifRQ, sorted in descending order by modified date. Here you can see core information that we collect from each reservation: </p>

<ul>
<li>A unique reservation ID</li>
<li>Check-in date</li>
<li>Check-out date</li>
<li>Booking date</li>
<li>Price</li>
<li>Room type</li>
<li>Number of reservations </li>
<li>Status of the reservation (confirmed or cancelled)</li>
</ul>

<p>The default currency for your sandbox hotel is set to the Euro (EUR). Please let us know if you wish to change this default currency to another type. Any reservations with prices besides the default currency will automatically be converted without issue.</p>

<p><img src="images/sandbox/4.png" alt="sandbox" /></p>

<p>During the development of reservation messages, it is useful to check them in the sandbox to see whether the information that we are displaying matches what you sent to the platform.</p>

<p>If you wish to start over at any point, you can delete all reservations by clicking on the “Delete reservations” button at the top of the list.</p>

<h2 id="inventory">Inventory</h2>

<p>The inventory tab will show you the result of the hotel_inv_count_notif message. The inventory messages should reflect the changes in the reservation messages, so please make sure that both tabs are updated with every new reservation.</p>

<p>The default sandbox test hotel has 100 rooms, and your inventory messages should be based on that amount. The Inventory view will show you the room-nights for the next 30 days for all room types, divided into each CountType that we use.</p>

<p><img src="images/sandbox/5.png" alt="sandbox" /></p>

<p>If you wish to start over at any point, you can delete the entire inventory by clicking on the “Delete
Inventory” button at the top of the list.</p>

<h2 id="final-occupancy">Final occupancy</h2>

<p>The Final occupancy tab will display the end result of the reservations and inventory messages received. Once you have successfully sent both message types, check Final occupancy to see if there are any discrepancies. Usually if something is wrong, it will be most noticeable in the occupancy percentages (i.e. over 100%, negative numbers, etc.).
<aside class="notice">Occupancy is calculated by the following formula:<br>
<b>(Definitive sold + Tentative sold + Out of order) / (Physical - Out of inventory)</b></aside></p>

<p><img src="images/sandbox/6.png" alt="sandbox" /></p>

<h2 id="codes-mapping">Codes Mapping</h2>

<p>The Codes Mapping tab is used for setting up the rate pushes in a 2-way connection. You will be able to add the URL, username, password and hotel code for messages. Don&rsquo;t forget to tick the &ldquo;Connect to channel manager&rdquo; option - this will enable the 2-way connection. In this context, “channel manager” refers to the system that receives the rate push, which can be a PMS or channel manager.</p>

<p><img src="images/sandbox/7.png" alt="sandbox" /></p>

<p>Beneath that, you will find 4 test room/rate types that would correspond to the &ldquo;calendar view&rdquo; in our product: a double room, a single room, a suite and a family room - all set to breakfast not included, refundable rate. Click on the blue plus sign to add mapping for these rooms.</p>

<p><img src="images/sandbox/8.png" alt="sandbox" /></p>

<p>Mapping can be done for multiple room types, rates and occupancies. Below is an example of a
mapping for two different rate plans for the same room type:</p>

<p><img src="images/sandbox/9.png" alt="sandbox" /></p>

<p>In this example, a rate push from the RateManager calendar view will update two rates: the base rate (BB-GR), and an additional rate (HB-GR) which will always be 10% higher than the base rate.</p>

<h2 id="send-rates">Send rates</h2>

<p>The RateManager platform will calculate rate recommendations for each of the next 360 days for the room/rate combinations set in each calendar view. The property can choose to update their rates based on these recommendations manually, as individual rates for specific dates, or in batches. There is also an autopilot feature that can be enabled, which pushes new rates every 4 hours based on pre-set rules defined by the property.
<aside class="warning">Autopilot can push a large amount of rates at once, so please ensure that RateManager has permission in your system to perform these actions (anti-flooding policies, etc.).</aside></p>

<p>The Send rates tab in your sandbox mimics the manual update feature for testing. With a live property, the property owner will be triggering rate updates.</p>

<p>Once you have set everything up under Codes Mapping, you can begin to test sending rates. You can choose a date and room type, then set a price.</p>

<p><img src="images/sandbox/10.png" alt="sandbox" /></p>

<p>You can send rates one by one, or queue up several of them by clicking on the blue plus sign. </p>

<p><img src="images/sandbox/11.png" alt="sandbox" /></p>

<aside class="notice">Please note that you have to add rates to the queue before sending them (even if only sending one rate).</aside>

<p>You can view the results of the rates you sent in the channel manager logs.</p>

<p><img src="images/sandbox/12.png" alt="sandbox" /></p>

<p>If you have any questions, or sandbox adjustment requests, please contact us at bookingsuite.connectivity@booking.com or via the Help button in the lower-left corner of the screen.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="xml--create">Create</a>
                <a href="#" data-language-name="xml--modify">Modify</a>
                <a href="#" data-language-name="xml--cancel">Cancel</a>
          </div>
      </div>
    </div>
  </body>
</html>
