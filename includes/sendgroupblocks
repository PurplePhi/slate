<h2 id="send-group-blocks">Send Group Blocks</h2>
<pre class="highlight xml tab-xml--create"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> 
<span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span> 
<span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsernameToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsernameToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>8ee65699-8b8b-8427-2822-687da8b55a89<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:CorrelationID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/wsa:CorrelationID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvBlockNotifRQ</span> <span class="na">TimeStamp=</span><span class="s">"2017-05-04T14:03:10+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;InvBlocks&gt;</span>
        <span class="nt">&lt;InvBlock</span> <span class="na">InvBlockCode=</span><span class="s">"FANCY_CONGRESS"</span> <span class="na">TransactionAction=</span><span class="s">"Book"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;HotelRef</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvBlockDates</span> <span class="na">AbsoluteCutoff=</span><span class="s">"2017-06-01"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;RoomTypes&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">RoomTypeCode=</span><span class="s">"C2T"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"25"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"105.00"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"90"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"95"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"TWB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-02"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"220"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP3"</span> <span class="na">Start=</span><span class="s">"2017-06-02"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"110"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
          <span class="nt">&lt;/RoomTypes&gt;</span>
        <span class="nt">&lt;/InvBlock&gt;</span>
      <span class="nt">&lt;/InvBlocks&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvBlockNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre><pre class="highlight xml tab-xml--modify"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> 
<span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span> 
<span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsernameToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsernameToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>8ee65699-8b8b-8427-2822-687da8b55a89<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:CorrelationID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/wsa:CorrelationID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvBlockNotifRQ</span> <span class="na">TimeStamp=</span><span class="s">"2017-05-06T12:48:23+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;InvBlocks&gt;</span>
        <span class="nt">&lt;InvBlock</span> <span class="na">InvBlockCode=</span><span class="s">"FANCY_CONGRESS"</span> <span class="na">TransactionAction=</span><span class="s">"Modify"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;HotelRef</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvBlockDates</span> <span class="na">AbsoluteCutoff=</span><span class="s">"2017-06-01"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;RoomTypes&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">RoomTypeCode=</span><span class="s">"C2T"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"25"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"105.00"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"90"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"95"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"TWB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-02"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"220"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP3"</span> <span class="na">Start=</span><span class="s">"2017-06-02"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"110"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
          <span class="nt">&lt;/RoomTypes&gt;</span>
        <span class="nt">&lt;/InvBlock&gt;</span>
      <span class="nt">&lt;/InvBlocks&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvBlockNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre><pre class="highlight xml tab-xml--cancel"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> 
<span class="na">xmlns:wsa=</span><span class="s">"http://www.w3.org/2005/08/addressing"</span> 
<span class="na">xmlns:wsse=</span><span class="s">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;soap:Header&gt;</span>
    <span class="nt">&lt;wsse:Security</span> <span class="na">soap:mustUnderstand=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;wsse:UsernameToken&gt;</span>
        <span class="nt">&lt;wsse:Username&gt;</span>username<span class="nt">&lt;/wsse:Username&gt;</span>
        <span class="nt">&lt;wsse:Password&gt;</span>password<span class="nt">&lt;/wsse:Password&gt;</span>
      <span class="nt">&lt;/wsse:UsernameToken&gt;</span>
    <span class="nt">&lt;/wsse:Security&gt;</span>
    <span class="nt">&lt;wsa:MessageID&gt;</span>8ee65699-8b8b-8427-2822-687da8b55a89<span class="nt">&lt;/wsa:MessageID&gt;</span>
    <span class="nt">&lt;wsa:CorrelationID&gt;</span>9ff77969-348d-4ed5-bc64-e7a5df4f0f9b<span class="nt">&lt;/wsa:CorrelationID&gt;</span>
    <span class="nt">&lt;wsa:To&gt;</span>https://api.pricematch.travel/htng_message<span class="nt">&lt;/wsa:To&gt;</span>
  <span class="nt">&lt;/soap:Header&gt;</span>
  <span class="nt">&lt;soap:Body&gt;</span>
    <span class="nt">&lt;OTA_HotelInvBlockNotifRQ</span> <span class="na">TimeStamp=</span><span class="s">"2017-05-07T16:08:13+01:00"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;InvBlocks&gt;</span>
        <span class="nt">&lt;InvBlock</span> <span class="na">InvBlockCode=</span><span class="s">"FANCY_CONGRESS"</span> <span class="na">TransactionAction=</span><span class="s">"Cancel"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;HotelRef</span> <span class="na">HotelCode=</span><span class="s">"45121140"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;InvBlockDates</span> <span class="na">AbsoluteCutoff=</span><span class="s">"2017-05-01"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;RoomTypes&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">RoomTypeCode=</span><span class="s">"C2T"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-01"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"25"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"105.00"</span> <span class="na">NumberOfGuests=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"EUR"</span> <span class="na">NumberOfUnits=</span><span class="s">"5"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"90"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">RoomTypeCode=</span><span class="s">"KGB"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations</span> <span class="na">RoomTypePickUpStatus=</span><span class="s">"4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-03"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-03"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">NumberOfUnits=</span><span class="s">"3"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP1"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"95"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
            <span class="nt">&lt;RoomType</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">RoomTypeCode=</span><span class="s">"TWB"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;RoomTypeAllocations&gt;</span>
                <span class="nt">&lt;RoomTypeAllocation</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;/RoomTypeAllocations&gt;</span>
              <span class="nt">&lt;RatePlans&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-02"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP2"</span> <span class="na">Start=</span><span class="s">"2017-06-01"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"220"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
                <span class="nt">&lt;RatePlan</span> <span class="na">CurrencyCode=</span><span class="s">"IDR"</span> <span class="na">End=</span><span class="s">"2017-06-04"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span> <span class="na">RatePlanCode=</span><span class="s">"GROUP3"</span> <span class="na">Start=</span><span class="s">"2017-06-02"</span><span class="nt">&gt;</span>
                  <span class="nt">&lt;BaseByGuestAmts&gt;</span>
                    <span class="nt">&lt;BaseByGuestAmt</span> <span class="na">AmountAfterTax=</span><span class="s">"110"</span> <span class="na">NumberOfGuests=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;/BaseByGuestAmts&gt;</span>
                <span class="nt">&lt;/RatePlan&gt;</span>
              <span class="nt">&lt;/RatePlans&gt;</span>
            <span class="nt">&lt;/RoomType&gt;</span>
          <span class="nt">&lt;/RoomTypes&gt;</span>
        <span class="nt">&lt;/InvBlock&gt;</span>
      <span class="nt">&lt;/InvBlocks&gt;</span>
    <span class="nt">&lt;/OTA_HotelInvBlockNotifRQ&gt;</span>
  <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
<p>This message permits RateManager to be alerted about a group block. We consider a group block to be a large booking (generally more than 10 rooms) that needs to be confirmed by participants and is under a specific expiration policy.</p>

<p>We use the HTNG 2013 specification to define the number of rooms blocked, and already sold. Each message should contain one block (one unique block id) for a single hotel.
The message processing happens like this:
1. We cross all room types, for each room type we cross all rate plans applied and save them in memory
2. We cross all counts of each block and attach them to one room type and one rate plan
3. Finally, we consider each day of the group block to create one booking with the right room type, rate plan and number of units blocked or sold</p>

<aside class="warning">Please note that at each modification of the block, we delete the block to insert it again. That means that you must send the complete block each time.</aside>

<h3 id="fields-we-consider">Fields we consider</h3>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">InvBlock</code></td>
<td>It&rsquo;s the block allocation block. We accept one InvBlock block for now.</td>
</tr>
<tr>
<td><code class="prettyprint">TransactionAction</code></td>
<td>The transactional status of the block. It can be:<br>- &lsquo;Book&rsquo; (creates a new reservation)<br>- &lsquo;Modify&rsquo; (updates an existing reservation)<br>- &lsquo;Cancel&rsquo; (cancels a reservation)</td>
</tr>
<tr>
<td><code class="prettyprint">InvBlockCode</code></td>
<td>The unique block ID that allow us to link all future messages to the right block in our database.</td>
</tr>
<tr>
<td><code class="prettyprint">HotelCode</code></td>
<td>Maps the message to a specific property. You will receive the hotel code for each new property from BookingSuite.</td>
</tr>
<tr>
<td><code class="prettyprint">InvBlockDates</code></td>
<td>Global dates of the block considered. <code class="prettyprint">Start</code> is the start date, <code class="prettyprint">End</code> the end date, and <code class="prettyprint">AbsoluteCutoff</code> is the release date of the block. <br>We consider the block released where AbsoluteCutoff &lt;= Today (including today)</td>
</tr>
<tr>
<td><code class="prettyprint">RoomType</code></td>
<td>One <code class="prettyprint">RoomType</code> block is the piece of the block with a given room type and rate plan. <br>If there is only one rate plan and 2 different room types for the block, there will be at least 2 <code class="prettyprint">RoomType</code> blocks.</td>
</tr>
<tr>
<td><code class="prettyprint">CompanyName</code></td>
<td>We take this block as the source of the booking.<br>‘Code’ specifies the source (web, OTA, email, etc.), while the field is the general channel (Walk-in, WEB, TEL).</td>
</tr>
<tr>
<td><code class="prettyprint">RatePlan</code></td>
<td>One <code class="prettyprint">RatePlan</code> block gives the description of the rate plan for the given room type and time range.</td>
</tr>
<tr>
<td><code class="prettyprint">RatePlanCode</code></td>
<td>The <code class="prettyprint">RatePlanCode</code> is the rate plan code that will be shown and considered in our database, the <code class="prettyprint">CurrencyCode</code> the currency for the given rate plan (in ISO 4217).</td>
</tr>
<tr>
<td><code class="prettyprint">BaseByGuestAmt</code></td>
<td>One <code class="prettyprint">BaseByGuestAmt</code> allow to give the amount depending of the number of people that will finally be confirmed in the booking. We save in our database only the amount for <code class="prettyprint">NumberOfGuests</code> = 1</td>
</tr>
<tr>
<td><code class="prettyprint">AmountAfterTax</code></td>
<td>The amount after tax for the given rate plan. We don&rsquo;t save the amount before tax.</td>
</tr>
<tr>
<td><code class="prettyprint">RoomTypeAllocations</code></td>
<td><code class="prettyprint">RoomTypeAllocations</code> defines the number of units per status. The statuses we consider are:<br>- 1 Definite availability<br>- 2 Tentative availability<br>- 3 Definite sold<br>- 4 Tentative sold<br><aside class="notice">The final number of units blocked for a given date will be:<br>(Definite availability + Tentative availability) - (Definite sold + Tentative sold)</aside></td>
</tr>
<tr>
<td><code class="prettyprint">RoomTypeAllocation</code></td>
<td>One <code class="prettyprint">RoomTypeAllocation</code> line gives the number of units for the given <code class="prettyprint">RoomTypePickupStatus</code> and a considered time range (starting with <code class="prettyprint">Start</code>, finishing with <code class="prettyprint">End</code>).<br>Generally, Start=End.</td>
</tr>
</tbody></table>
